<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Springboot笔记(1) | K's Blog</title><meta name="description" content="Springboot笔记(1)"><meta name="author" content="PHI6kai"><meta name="copyright" content="PHI6kai"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Springboot笔记(1)"><meta name="twitter:description" content="Springboot笔记(1)"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content="Springboot笔记(1)"><meta property="og:url" content="http://yoursite.com/2020/02/04/Springboot%E7%AC%94%E8%AE%B0(1)/"><meta property="og:site_name" content="K's Blog"><meta property="og:description" content="Springboot笔记(1)"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2020/02/04/Springboot%E7%AC%94%E8%AE%B0(1)/"><link rel="prev" title="Springboot笔记(2)" href="http://yoursite.com/2020/02/06/Springboot%E7%AC%94%E8%AE%B0(2)/"><link rel="next" title="LeeCode刷题(1) 两数之和" href="http://yoursite.com/2020/01/27/LeeCode%E5%88%B7%E9%A2%98(%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C)/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://PHI6kai.github.io/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: {"languages":{"author":"Author: PHI6kai","link":"Link: http://yoursite.com/2020/02/04/Springboot%E7%AC%94%E8%AE%B0(1)/","source":"Source: K's Blog","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">K's Blog</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">5</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Springboot笔记"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Springboot笔记</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-Springboot对静态资源的映射规则"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">1.Springboot对静态资源的映射规则</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#模板引擎"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">模板引擎</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-引入thymeleaf"><span class="toc_mobile_items-number">1.2.1.</span> <span class="toc_mobile_items-text">1.引入thymeleaf</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-Thymeleaf的使用及语法"><span class="toc_mobile_items-number">1.2.2.</span> <span class="toc_mobile_items-text">2.Thymeleaf的使用及语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-Thymeleaf语法规则"><span class="toc_mobile_items-number">1.2.3.</span> <span class="toc_mobile_items-text">3.Thymeleaf语法规则</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-SpringMVC的自动配置"><span class="toc_mobile_items-number">1.2.4.</span> <span class="toc_mobile_items-text">4.SpringMVC的自动配置</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#CRUD启航"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">CRUD启航</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-默认访问首页"><span class="toc_mobile_items-number">1.3.1.</span> <span class="toc_mobile_items-text">1.默认访问首页</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-国际化"><span class="toc_mobile_items-number">1.3.2.</span> <span class="toc_mobile_items-text">2.国际化</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-登录以及拦截器"><span class="toc_mobile_items-number">1.3.3.</span> <span class="toc_mobile_items-text">3.登录以及拦截器</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#CURD员工列表"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">CURD员工列表</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Springboot笔记"><span class="toc-number">1.</span> <span class="toc-text">Springboot笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Springboot对静态资源的映射规则"><span class="toc-number">1.1.</span> <span class="toc-text">1.Springboot对静态资源的映射规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#模板引擎"><span class="toc-number">1.2.</span> <span class="toc-text">模板引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-引入thymeleaf"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.引入thymeleaf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Thymeleaf的使用及语法"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.Thymeleaf的使用及语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Thymeleaf语法规则"><span class="toc-number">1.2.3.</span> <span class="toc-text">3.Thymeleaf语法规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-SpringMVC的自动配置"><span class="toc-number">1.2.4.</span> <span class="toc-text">4.SpringMVC的自动配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CRUD启航"><span class="toc-number">1.3.</span> <span class="toc-text">CRUD启航</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-默认访问首页"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.默认访问首页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-国际化"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.国际化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-登录以及拦截器"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.登录以及拦截器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CURD员工列表"><span class="toc-number">1.4.</span> <span class="toc-text">CURD员工列表</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">Springboot笔记(1)</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> Created 2020-02-04<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> Updated 2020-02-08</time><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>Post View:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="Springboot笔记"><a href="#Springboot笔记" class="headerlink" title="Springboot笔记"></a>Springboot笔记</h1><h2 id="1-Springboot对静态资源的映射规则"><a href="#1-Springboot对静态资源的映射规则" class="headerlink" title="1.Springboot对静态资源的映射规则"></a>1.Springboot对静态资源的映射规则</h2><p>首先让我们来看看SpringmvcAuto**里面的源码</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public void addResourceHandlers(ResourceHandlerRegistry registry) &#123;</span><br><span class="line">            if (!this.resourceProperties.isAddMappings()) &#123;</span><br><span class="line">                logger.debug(&quot;Default resource handling disabled&quot;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                Duration cachePeriod &#x3D; this.resourceProperties.getCache().getPeriod();</span><br><span class="line">                CacheControl cacheControl &#x3D; this.resourceProperties.getCache().getCachecontrol().toHttpCacheControl();</span><br><span class="line">                if (!registry.hasMappingForPattern(&quot;&#x2F;webjars&#x2F;**&quot;)) &#123;</span><br><span class="line">                    this.customizeResourceHandlerRegistration(registry.addResourceHandler(new String[]&#123;&quot;&#x2F;webjars&#x2F;**&quot;&#125;).addResourceLocations(new String[]&#123;&quot;classpath:&#x2F;META-INF&#x2F;resources&#x2F;webjars&#x2F;&quot;&#125;).setCachePeriod(this.getSeconds(cachePeriod)).setCacheControl(cacheControl));</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                String staticPathPattern &#x3D; this.mvcProperties.getStaticPathPattern();</span><br><span class="line">                if (!registry.hasMappingForPattern(staticPathPattern)) &#123;</span><br><span class="line">                    this.customizeResourceHandlerRegistration(registry.addResourceHandler(new String[]&#123;staticPathPattern&#125;).addResourceLocations(WebMvcAutoConfiguration.getResourceLocations(this.resourceProperties.getStaticLocations())).setCachePeriod(this.getSeconds(cachePeriod)).setCacheControl(cacheControl));</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></div>
<p>1.所有/webjars/**，都去classpath:/META-INF/resources/webjars/找资源。</p>
<ul>
<li><p>webjars：以jar包的方式引入静态资源。</p>
</li>
<li><p>具体的包之间的依赖方式，请参考<a href="https://www.webjars.org/" target="_blank" rel="noopener" title="官网">官网</a>进行导入。</p>
</li>
</ul>
<p><a href="/images/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20200204104940.png" data-fancybox="group" data-caption="images" class="fancybox"><img alt="images" title="images" data-src="/images/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20200204104940.png" class="lazyload"></a></p>
<p>引入jquery-webjar包</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.webjars&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;jquery&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.3.1&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></div>

<p>2.“/**”访问当前项目的任何资源</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;classpath:&#x2F;META‐INF&#x2F;resources&#x2F;&quot;,</span><br><span class="line">&quot;classpath:&#x2F;resources&#x2F;&quot;,</span><br><span class="line">&quot;classpath:&#x2F;static&#x2F;&quot;,</span><br><span class="line">&quot;classpath:&#x2F;public&#x2F;&quot;</span><br><span class="line">&quot;&#x2F;&quot;：当前项目的根路径</span><br></pre></td></tr></table></figure></div>

<p>改变默认静态资源文件夹，需要在application.properties下加入</p>
<blockquote>
<p>spring.resources.static-location=classpath:/文件夹名/</p>
</blockquote>
<h2 id="模板引擎"><a href="#模板引擎" class="headerlink" title="模板引擎"></a>模板引擎</h2><p>现在的有 JSP、Velocity、Freemaker、Thymeleaf。<br>Springboot推荐Thymeleaf，因为语法更简单，功能更强大。</p>
<h3 id="1-引入thymeleaf"><a href="#1-引入thymeleaf" class="headerlink" title="1.引入thymeleaf"></a>1.引入thymeleaf</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;        </span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;            </span><br><span class="line">&lt;artifactId&gt;spring‐boot‐starter‐thymeleaf&lt;&#x2F;artifactId&gt;            </span><br><span class="line">           2.1.6  </span><br><span class="line">&lt;&#x2F;dependency&gt;        </span><br><span class="line">切换thymeleaf版本</span><br><span class="line">&lt;properties&gt;</span><br><span class="line">&lt;thymeleaf.version&gt;3.0.9.RELEASE&lt;&#x2F;thymeleaf.version&gt;        </span><br><span class="line">&lt;!‐‐ 布局功能的支持程序  thymeleaf3主程序  layout2以上版本 ‐‐&gt;        </span><br><span class="line">&lt;!‐‐ thymeleaf2   layout1‐‐&gt;        </span><br><span class="line">&lt;thymeleaf‐layout‐dialect.version&gt;2.2.2&lt;&#x2F;thymeleaf‐layout‐dialect.version&gt;        </span><br><span class="line">  &lt;&#x2F;properties&gt;</span><br></pre></td></tr></table></figure></div>

<h3 id="2-Thymeleaf的使用及语法"><a href="#2-Thymeleaf的使用及语法" class="headerlink" title="2.Thymeleaf的使用及语法"></a>2.Thymeleaf的使用及语法</h3><p>首先还是让我们来看看源码</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@ConfigurationProperties(prefix &#x3D; &quot;spring.thymeleaf&quot;)</span><br><span class="line">public class ThymeleafProperties &#123;</span><br><span class="line">private static final Charset DEFAULT_ENCODING &#x3D; Charset.forName(&quot;UTF‐8&quot;);    </span><br><span class="line">private static final MimeType DEFAULT_CONTENT_TYPE &#x3D; MimeType.valueOf(&quot;text&#x2F;html&quot;);    </span><br><span class="line">public static final String DEFAULT_PREFIX &#x3D; &quot;classpath:&#x2F;templates&#x2F;&quot;;    </span><br><span class="line">public static final String DEFAULT_SUFFIX &#x3D; &quot;.html&quot;;</span><br></pre></td></tr></table></figure></div>

<p>意思是只要我们把HTML页面放在classpath:/templates/下，thymeleaf就可以自动渲染。</p>
<ul>
<li>在这里thymeleaf默认版本是2.1.1，需要升级使用，但依赖升级一直报错，查了网上的资料基本就是让删除升级那几行代码，没什么用。后来发现只需要将升级的版本提高到3.0+即可。</li>
</ul>
<p>代码如下</p>
<blockquote>
<p>&lt;thymeleaf.version&gt;3.0.11.RELEASE&lt;/thymeleaf.version&gt;<br>&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;</p>
</blockquote>
<p>另外要注意同时在properties内修改</p>
<blockquote>
<p>spring.thymeleaf.mode=HTML</p>
</blockquote>
<p><strong>使用方式：</strong><br>1.导入thymeleaf的名称空间</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;html lang&#x3D;&quot;en&quot; xmlns:th&#x3D;&quot;http:&#x2F;&#x2F;www.thymeleaf.org&quot;&gt;</span><br></pre></td></tr></table></figure></div>
<p>在html文件头部导入，只有导入命名空间才会有提示。</p>
<p>2.thymeleaf语法的使用<br>咱们先看一段简单的代码引入</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot; xmlns:th&#x3D;&quot;http:&#x2F;&#x2F;www.thymeleaf.org&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF‐8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;成功！&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;!‐‐th:text 将div里面的文本内容设置为 ‐‐&gt;</span><br><span class="line">    &lt;div th:text&#x3D;&quot;$&#123;hello&#125;&quot;&gt;这是显示欢迎信息&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure></div>

<h3 id="3-Thymeleaf语法规则"><a href="#3-Thymeleaf语法规则" class="headerlink" title="3.Thymeleaf语法规则"></a>3.Thymeleaf语法规则</h3><ol>
<li>th:text: 改变当前元素里面的文本内容；</li>
</ol>
<p>格式为：</p>
<ul>
<li>th: 任意html属性，来替换原生属性的值。</li>
</ul>
<table>
<thead>
<tr>
<th align="left">Order</th>
<th align="left">Feature</th>
<th align="center">Attributes</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">片段包含:jsp:include</td>
<td align="center">th:insert th:replace</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">遍历:c:forEach</td>
<td align="center">th:each</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">条件判断:c:if</td>
<td align="center">th:if th:unless th:switch th:case</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">声明变量:c:set</td>
<td align="center">th:object th:with</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">任意属性修改，支持prepend，append</td>
<td align="center">th:attr th:attrperend th:attrappend</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">修改指定属性默认值</td>
<td align="center">th:value th:href th:src</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left">修改标签体内容</td>
<td align="center">th:text th:utext</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left">声明片段</td>
<td align="center">th:fragment th:remove</td>
</tr>
</tbody></table>
<ol start="2">
<li>表达式语法<br>让我们先看一下，usingThymeleaf的参照文档中的内容<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">Simple expressions:（表达式语法）</span><br><span class="line">    Variable Expressions: $&#123;...&#125;：获取变量值；OGNL；</span><br><span class="line">     1）、获取对象的属性、调用方法        </span><br><span class="line">     2）、使用内置的基本对象：        </span><br><span class="line">     #ctx : the context object.</span><br><span class="line">#vars: the context variables.            </span><br><span class="line">#locale : the context locale.</span><br><span class="line">#request : (only in Web Contexts) the HttpServletRequest object.</span><br><span class="line">#response : (only in Web Contexts) the HttpServletResponse object.</span><br><span class="line">#session : (only in Web Contexts) the HttpSession object.</span><br><span class="line">#servletContext : (only in Web Contexts) the ServletContext object.</span><br><span class="line">$&#123;session.foo&#125;</span><br><span class="line">3）、内置的一些工具对象：</span><br><span class="line">#execInfo : information about the template being processed.</span><br><span class="line">#messages : methods for obtaining externalized messages inside variables expressions, in the</span><br><span class="line">same way as they would be obtained using #&#123;…&#125; syntax.</span><br><span class="line">#uris : methods for escaping parts of URLs&#x2F;URIs</span><br><span class="line">#conversions : methods for executing the configured conversion service (if any).</span><br><span class="line">#dates : methods for java.util.Date objects: formatting, component extraction, etc.</span><br><span class="line">#calendars : analogous to #dates , but for java.util.Calendar objects.</span><br><span class="line">#numbers : methods for formatting numeric objects.</span><br><span class="line">#strings : methods for String objects: contains, startsWith, prepending&#x2F;appending, etc.</span><br><span class="line">#objects : methods for objects in general.</span><br><span class="line">#bools : methods for boolean evaluation.</span><br><span class="line">#arrays : methods for arrays.</span><br><span class="line">#lists : methods for lists.</span><br><span class="line">#sets : methods for sets.</span><br><span class="line">#maps : methods for maps.</span><br><span class="line">#aggregates : methods for creating aggregates on arrays or collections.</span><br><span class="line">#ids : methods for dealing with id attributes that might be repeated (for example, as a</span><br><span class="line">result of an iteration).</span><br><span class="line">    Selection Variable Expressions: *&#123;...&#125;：选择表达式：和$&#123;&#125;在功能上是一样；</span><br><span class="line">     补充：配合 th:object&#x3D;&quot;$&#123;session.user&#125;：    </span><br><span class="line">   &lt;div th:object&#x3D;&quot;$&#123;session.user&#125;&quot;&gt;</span><br><span class="line">    &lt;p&gt;Name: &lt;span th:text&#x3D;&quot;*&#123;firstName&#125;&quot;&gt;Sebastian&lt;&#x2F;span&gt;.&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Surname: &lt;span th:text&#x3D;&quot;*&#123;lastName&#125;&quot;&gt;Pepper&lt;&#x2F;span&gt;.&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Nationality: &lt;span th:text&#x3D;&quot;*&#123;nationality&#125;&quot;&gt;Saturn&lt;&#x2F;span&gt;.&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">   </span><br><span class="line">    Message Expressions: #&#123;...&#125;：获取国际化内容</span><br><span class="line">    Link URL Expressions: @&#123;...&#125;：定义URL；</span><br><span class="line">     @&#123;&#x2F;order&#x2F;process(execId&#x3D;$&#123;execId&#125;,execType&#x3D;&#39;FAST&#39;)&#125;        </span><br><span class="line">    Fragment Expressions: ~&#123;...&#125;：片段引用表达式</span><br><span class="line">     &lt;div th:insert&#x3D;&quot;~&#123;commons :: main&#125;&quot;&gt;...&lt;&#x2F;div&gt;        </span><br><span class="line">           </span><br><span class="line">Literals（字面量）</span><br><span class="line">      Text literals: &#39;one text&#39; , &#39;Another one!&#39; ,…</span><br><span class="line">      Number literals: 0 , 34 , 3.0 , 12.3 ,…</span><br><span class="line">      Boolean literals: true , false</span><br><span class="line">      Null literal: null</span><br><span class="line">      Literal tokens: one , sometext , main ,…</span><br><span class="line">Text operations:（文本操作）</span><br><span class="line">    String concatenation: +</span><br><span class="line">    Literal substitutions: |The name is $&#123;name&#125;|</span><br><span class="line">Arithmetic operations:（数学运算）</span><br><span class="line">    Binary operators: + , ‐ , * , &#x2F; , %</span><br><span class="line">Minus sign (unary operator): ‐</span><br><span class="line">Boolean operations:（布尔运算）</span><br><span class="line">    Binary operators: and , or</span><br><span class="line">    Boolean negation (unary operator): ! , not</span><br><span class="line">Comparisons and equality:（比较运算）</span><br><span class="line">    Comparators: &gt; , &lt; , &gt;&#x3D; , &lt;&#x3D; ( gt , lt , ge , le )</span><br><span class="line">    Equality operators: &#x3D;&#x3D; , !&#x3D; ( eq , ne )</span><br><span class="line">Conditional operators:条件运算（三元运算符）</span><br><span class="line">    If‐then: (if) ? (then)</span><br><span class="line">    If‐then‐else: (if) ? (then) : (else)</span><br><span class="line">    Default: (value) ?: (defaultvalue)</span><br><span class="line">Special tokens:</span><br><span class="line">    No‐Operation: _</span><br></pre></td></tr></table></figure></div>
</li>
</ol>
<ul>
<li>重点要注意${}和*{}用法的区别。</li>
</ul>
<h3 id="4-SpringMVC的自动配置"><a href="#4-SpringMVC的自动配置" class="headerlink" title="4.SpringMVC的自动配置"></a>4.SpringMVC的自动配置</h3><p><a href="https://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/reference/htmlsingle/#boot-features-developing-web-applications" target="_blank" rel="noopener" title="官方文档">官方文档</a>看这里。</p>
<p>1.spring MVC Auto-Configuration</p>
<p>SpingBoot提供了SpringMVC工作时大多场景的工作配置<br>以下是SpringBoot对SpringMVC的默认配置</p>
<ul>
<li><p>自动配置了ViewResolver(视图解析器：根据方法的返回值得到视图对象(View)，视图对象决定如何渲染)</p>
</li>
<li><p>ContentNegotiatingViewResolver：组合所有的视图解析器</p>
<ul>
<li><strong>我们可以给自己容器中添加一个视图解析器,自动将其组合。</strong></li>
</ul>
</li>
<li><p>Support for serving static resources, including support for WebJars (see below).静态资源文件夹路<br>径,webjars</p>
</li>
<li><p>Static index.html support. 静态首页访问</p>
</li>
<li><p>Custom Favicon support (see below). favicon.ico</p>
</li>
<li><p>自动注册了 of Converter , GenericConverter , Formatter beans.</p>
</li>
<li><p>Converter：转换器； public String hello(User user)：类型转换使用Converter</p>
</li>
<li><p>Formatter 格式化器； 2017.12.17===Date；</p>
</li>
</ul>
<p>2.扩展SpringMVC</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;mvc:view‐controller path&#x3D;&quot;&#x2F;hello&quot; view‐name&#x3D;&quot;success&quot;&#x2F;&gt;</span><br><span class="line">    &lt;mvc:interceptors&gt;</span><br><span class="line">        &lt;mvc:interceptor&gt;</span><br><span class="line">            &lt;mvc:mapping path&#x3D;&quot;&#x2F;hello&quot;&#x2F;&gt;</span><br><span class="line">            &lt;bean&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">        &lt;&#x2F;mvc:interceptor&gt;</span><br><span class="line">    &lt;&#x2F;mvc:interceptors&gt;</span><br></pre></td></tr></table></figure></div>

<p><strong>编写一个配置类(@Configuration)，是WebMvcConfigurerAdapter；</strong></p>
<p>既保留了所有自动配置，也能用我们的扩展配置。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;使用WebMvcConfigurerAdapter可以来扩展SpringMVC的功能</span><br><span class="line">@Configuration</span><br><span class="line">public class MyMvcConfig extends WebMvcConfigurerAdapter &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void addViewControllers(ViewControllerRegistry registry) &#123;</span><br><span class="line">       &#x2F;&#x2F; super.addViewControllers(registry);</span><br><span class="line">        &#x2F;&#x2F;浏览器发送 &#x2F;atguigu 请求来到 success</span><br><span class="line">        registry.addViewController(&quot;&#x2F;atguigu&quot;).setViewName(&quot;success&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="CRUD启航"><a href="#CRUD启航" class="headerlink" title="CRUD启航"></a>CRUD启航</h2><p>首先引入bootstrap，为了让更改页面的时候也依然可以渲染显示。</p>
<blockquote>
<p>th:href=”@{/webjars/bootstrap/4.0.0/css/bootstrap.css}”</p>
</blockquote>
<blockquote>
<p>th:href=”@{/asserts/css/signin.css}”</p>
</blockquote>
<blockquote>
<p>th:src=”@{/asserts/img/bootstrap-solid.svg}”</p>
</blockquote>
<p>登录界面较为简单，公共资源就用webjars，自己的资源金额和图标资源就按照路径引入即可。</p>
<p><strong>一定要在前面加xmlns:th=”<a href="http://www.thymeleaf.org&quot;，否则会不断提示你增加一个垃圾页面，没有效果且无穷无尽" target="_blank" rel="noopener">http://www.thymeleaf.org&quot;，否则会不断提示你增加一个垃圾页面，没有效果且无穷无尽</a></strong></p>
<h3 id="1-默认访问首页"><a href="#1-默认访问首页" class="headerlink" title="1.默认访问首页"></a>1.默认访问首页</h3><ol>
<li>第一种方法配置<br>在Hellocontroller中写入<blockquote>
<p>@requestMapping({“/“,”/index.html”})<br>public String index(){<br> return “index”;<br>}</p>
</blockquote>
</li>
</ol>
<ul>
<li>如果这样写，会得到thymeleaf模板引擎的解析，会在templates文件夹下寻找页面，所以当return“index”时，自会返回index.html页面。</li>
</ul>
<ol start="2">
<li>第二种方法，在MyMvcConfig中写入</li>
</ol>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Bean&#x2F;&#x2F;将组件注册在容器</span><br><span class="line">        public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123;</span><br><span class="line">            WebMvcConfigurerAdapter adapter &#x3D; new WebMvcConfigurerAdapter() &#123;</span><br><span class="line">                @Override</span><br><span class="line">                public void addViewControllers(ViewControllerRegistry registry)&#123;</span><br><span class="line">                    registry.addViewController(&quot;&#x2F;&quot;).setViewName(&quot;login&quot;);</span><br><span class="line">                    registry.addViewController(&quot;login.html&quot;).setViewName(&quot;login&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            return adapter;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></div>

<p>此时我已经将html改为login，同时路径也指向login，这里要注意一定要加@Bean这个注解</p>
<h3 id="2-国际化"><a href="#2-国际化" class="headerlink" title="2.国际化"></a>2.国际化</h3><ul>
<li><p><strong>编写国际化配置文件</strong></p>
</li>
<li><p>使用RsourceBundleMessageSource管理国际化资源文件</p>
</li>
<li><p>在页面使用fmt：message取出国际化内容</p>
</li>
</ul>
<p><strong>步骤：</strong></p>
<ol>
<li>编写国际化配置文件，抽取页面需要显示的国际化消息。(在resources中建立i18n文件夹，生成默认显示配置文件以及各个语言的配置文件en_US英文,zh_CN中文)</li>
</ol>
<p>2.SpringBoot自动配置好了管理国际化资源文件的组件。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">@ConfigurationProperties(prefix &#x3D; &quot;spring.messages&quot;)</span><br><span class="line">public class MessageSourceAutoConfiguration &#123;</span><br><span class="line">   </span><br><span class="line">    &#x2F;**</span><br><span class="line"> * Comma‐separated list of basenames (essentially a fully‐qualified classpath    </span><br><span class="line"> * location), each following the ResourceBundle convention with relaxed support for    </span><br><span class="line"> * slash based locations. If it doesn&#39;t contain a package qualifier (such as    </span><br><span class="line"> * &quot;org.mypackage&quot;), it will be resolved from the classpath root.    </span><br><span class="line"> *&#x2F;    </span><br><span class="line">private String basename &#x3D; &quot;messages&quot;;      </span><br><span class="line">    &#x2F;&#x2F;我们的配置文件可以直接放在类路径下叫messages.properties；</span><br><span class="line">   </span><br><span class="line">    @Bean</span><br><span class="line">public MessageSource messageSource() &#123;    </span><br><span class="line">ResourceBundleMessageSource messageSource &#x3D; new ResourceBundleMessageSource();        </span><br><span class="line">if (StringUtils.hasText(this.basename)) &#123;        </span><br><span class="line">            &#x2F;&#x2F;设置国际化资源文件的基础名（去掉语言国家代码的）</span><br><span class="line">messageSource.setBasenames(StringUtils.commaDelimitedListToStringArray(            </span><br><span class="line">StringUtils.trimAllWhitespace(this.basename)));                    </span><br><span class="line">&#125;        </span><br><span class="line">if (this.encoding !&#x3D; null) &#123;        </span><br><span class="line">messageSource.setDefaultEncoding(this.encoding.name());            </span><br><span class="line">&#125;        </span><br><span class="line">messageSource.setFallbackToSystemLocale(this.fallbackToSystemLocale);        </span><br><span class="line">messageSource.setCacheSeconds(this.cacheSeconds);        </span><br><span class="line">messageSource.setAlwaysUseMessageFormat(this.alwaysUseMessageFormat);        </span><br><span class="line">return messageSource;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<ul>
<li><p><strong>步骤</strong></p>
</li>
<li><p>在application.properties下输入</p>
<blockquote>
<p>spring.messages.basename=i18n.login</p>
</blockquote>
<p>这样可以让ResourceBundleMessageSource进入该配置文件下获取国际化的相关信息</p>
</li>
</ul>
<ol start="3">
<li><p>去页面获取国际化的值</p>
<blockquote>
<p>#{·····}用来获取国际化的值</p>
</blockquote>
<p>（1） 在每个需要国际化的标签里加入</p>
<blockquote>
<p>th:text=”#{文件中标签的值，如login.tip}”</p>
</blockquote>
<blockquote>
<p>placeholder=”标签值” th:placehloder=”#{login.***}”</p>
</blockquote>
<p>（2） input框不能用text，因为input框非biaoqianti,所以查看了thymeleaf后，决定用thymeleaf的行内表达式。</p>
<blockquote>
<p>[[#{****}]]</p>
</blockquote>
<p><strong>同时一定要注意关于默认字符格式问题</strong></p>
<p>在idea的全局格式设置中，将字符编码改为UTF-8，否则读出的配置将会是乱码。</p>
</li>
</ol>
<p>效果：根据浏览器语言设置的信息切换了国际化。</p>
<p>原理：</p>
<p>国际化Locale(区域信息对象)；LocaleResolver：获取区域信息</p>
<ol start="4">
<li>点击链接切换国际化<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a class&#x3D;&quot;btn btn-sm&quot; th:href&#x3D;&quot;@&#123;&#x2F;login.html(l&#x3D;&#39;zh_CN&#39;)&#125;&quot;&gt;中文&lt;&#x2F;a&gt;</span><br><span class="line">			&lt;a class&#x3D;&quot;btn btn-sm&quot; th:href&#x3D;&quot;@&#123;&#x2F;login.html(l&#x3D;&#39;en_US&#39;)&#125;&quot;&gt;English&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure></div></li>
</ol>
<ul>
<li>但是此时依旧不能切换，因为此时链接没有带上区域信息，所以此时我们需要依赖Springboot自身的一个函数进行区域信息分配。</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 可以再链接上携带区域信息</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class MyLocalResolver implements LocaleResolver &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Locale resolveLocale(HttpServletRequest request) &#123;</span><br><span class="line">        String l &#x3D; request.getParameter(&quot;l&quot;);</span><br><span class="line">        Locale locale &#x3D; Locale.getDefault();&#x2F;&#x2F;locale对象是最终要返回的区域信息,若有则返回，若没有则用默认的</span><br><span class="line">        if(!StringUtils.isEmpty(l))&#123;&#x2F;&#x2F;若不为空，则带了区域信息</span><br><span class="line">            String[] split &#x3D; l.split(&quot;_&quot;);&#x2F;&#x2F;利用下划线分割</span><br><span class="line">            locale &#x3D; new Locale(split[0],split[1]);</span><br><span class="line">            &#x2F;&#x2F;前面一直没反应是因为没有把分割的值传入locale中</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return locale;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div>
<ul>
<li>分割玩信息并存入locale中，需要SpringMvc的支持。所以进入MvcConfig中，添加相应的部分。</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    @Bean</span><br><span class="line">    public LocaleResolver localeResolver()&#123;</span><br><span class="line">        return new MyLocalResolver();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="3-登录以及拦截器"><a href="#3-登录以及拦截器" class="headerlink" title="3.登录以及拦截器"></a>3.登录以及拦截器</h3><p><em>本部分登录不包含数据库操作</em></p>
<p>（1）在IDEA中，模板引擎页面修改过后，要让页面实时生效，首先要禁用缓存，其次每次写完页面按住Ctrl+F9</p>
<blockquote>
<p>spring.thymeleaf.cache=false</p>
</blockquote>
<p>首先我们要进行登录控制程序操作，在Controller文件夹下新建LoginController文件。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class LoginController &#123;</span><br><span class="line"></span><br><span class="line">    @PostMapping(value &#x3D; &quot;&#x2F;user&#x2F;login&quot;)&#x2F;&#x2F;这一行抵下面一串，相当方便</span><br><span class="line">    &#x2F;&#x2F;@RequestMapping(value &#x3D; &quot;&#x2F;user&#x2F;login&quot;,method &#x3D; RequestMethod.POST)&#x2F;&#x2F;进行请求方式的限定</span><br><span class="line">    public String login(@RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password</span><br><span class="line">            , Map&lt;String,Object&gt; map, HttpSession session)&#x2F;&#x2F;session就是用户与服务间的通信</span><br><span class="line">    &#123;</span><br><span class="line">        if(!StringUtils.isEmpty(username)&amp;&amp;&quot;123456&quot;.equals(password))&#123;</span><br><span class="line">            &#x2F;&#x2F;登录成功,防止表单重复提交，可以重定向到主页</span><br><span class="line">            session.setAttribute(&quot;loginUser&quot;,username);&#x2F;&#x2F;此时，只要登录，那么用户就会在session中存在</span><br><span class="line">            return &quot;redirect:&#x2F;main.html&quot;;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            &#x2F;&#x2F;登录失败</span><br><span class="line">            map.put(&quot;msg&quot;,&quot;用户名密码或错误&quot;);</span><br><span class="line">            return &quot;login&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>因为此时我们没有进行数据库的连接检查操作，所以只需要用户名不为空，密码等于123456即可</strong></p>
<p>若正确，则用户名聚会在session中存在，目标也会被重定向到main.html页面，而错误则会发送一条msg，内容为“用户名或密码错误”。（此处session返回的用户名在后期拦截器会用到）</p>
<p>login.html界面的登录错误消息的显示</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;p style&#x3D;&quot;color:red&quot; th:text&#x3D;&quot;$&#123;msg&#125;&quot; th:if&#x3D;&quot;$&#123;not #strings.isEmpty(msg)&#125;&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">			&lt;!--因为不能一直显示红色所以要加判断条件--&gt;</span><br></pre></td></tr></table></figure></div>

<p>(2)拦截器操作</p>
<p>在component文件夹下加入拦截器组件，拦截器文件名 implement HandlerInterceptor。</p>
<p><strong>重写方法有三个，在此我们只进行preHandle的方法重写</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">   public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;</span><br><span class="line">       Object user &#x3D; request.getSession().getAttribute(&quot;loginUser&quot;);</span><br><span class="line">       if(user &#x3D;&#x3D; null)&#123;</span><br><span class="line">           &#x2F;&#x2F;未登录，返回登录页面</span><br><span class="line">           request.setAttribute(&quot;msg&quot;,&quot;没有权限请先登录&quot;);</span><br><span class="line">           request.getRequestDispatcher(&quot;&#x2F;index.html&quot;).forward(request,response);&#x2F;&#x2F;请求，响应</span><br><span class="line">        return false;   &#x2F;&#x2F;写完一定要配置起来所以进入MvcConfig</span><br><span class="line">       &#125;else&#123;</span><br><span class="line">           &#x2F;&#x2F;已登录，放行请求</span><br><span class="line">           return true;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></div>

<ul>
<li>这里用到了之前提到过的session，用它来判断是否有用户名的介入，若为空，则返回一条错误信息：“没有权限请先登录”，随即返回到初始界面，若不为空则放行。</li>
</ul>
<p>最后在SpringMVC配置文件MvcConfig中进行拦截器的注册</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Override&#x2F;&#x2F;注册拦截器</span><br><span class="line">    public void addInterceptors(InterceptorRegistry registry) &#123;</span><br><span class="line">        &#x2F;&#x2F;super.addInterceptors(registry);</span><br><span class="line">        &#x2F;&#x2F;静态资源： *.css,*.js</span><br><span class="line">        &#x2F;&#x2F;Springboot已经做好了静态资源的映射，所以不用管</span><br><span class="line">         registry.addInterceptor(new LoginHandlerInterceptor()).addPathPatterns(&quot;&#x2F;**&quot;).excludePathPatterns(&quot;&#x2F;index.ht&quot;&#x2F;&quot;,&quot;&#x2F;user&#x2F;login&quot;);</span><br><span class="line">        &#x2F;&#x2F; &#x2F;**是拦截任意多层路径下的任意请求,也可以利用exclude排除拦截一些请求</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<ul>
<li>不需要过多的操作，只需要进行拦截器的add即可，静态资源springboot已经做好了映射。由于此处我们进行的是addPP（”/**”）路径拦截，这代表着拦截任意多层路径下的任意请求，所以我们要利用excludePP（“路径”，“路径”）进行首页或者登陆判断的放行。</li>
</ul>
<h2 id="CURD员工列表"><a href="#CURD员工列表" class="headerlink" title="CURD员工列表"></a>CURD员工列表</h2><p>开始这一小节的操作时，需要在所有页面引入boostrap的资源，否则没有渲染，页面就是文字堆叠。</p>
<p>要求：</p>
<ol>
<li>RestfulCRUD：CRUD要满足Rest风格；<br>URI（路径格式）：/资源名称/资源标识  HTTP请求方式区分对资源的CRUD操作</li>
</ol>
<table>
<thead>
<tr>
<th align="left">区别</th>
<th align="left">普通CRUD（uri来区分操作）</th>
<th align="left">RestfulCRUD</th>
</tr>
</thead>
<tbody><tr>
<td align="left">查询</td>
<td align="left">getEmp</td>
<td align="left">emp—(GET方式)</td>
</tr>
<tr>
<td align="left">添加</td>
<td align="left">addEmpty?xxx</td>
<td align="left">emp—(POST方式)</td>
</tr>
<tr>
<td align="left">修改</td>
<td align="left">updateEmp?id=xxx&amp;xxx=xx</td>
<td align="left">emp/{id}—(PUT方式)</td>
</tr>
<tr>
<td align="left">删除</td>
<td align="left">deleteEmp?id=xx</td>
<td align="left">emp/{id}—(DELETE方式)</td>
</tr>
</tbody></table>
<ol start="2">
<li>员工列表</li>
</ol>
<p>在list.html的Customer进行更改</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a class&#x3D;&quot;nav-link&quot; href&#x3D;&quot;#&quot; th:href&#x3D;&quot;@&#123;&#x2F;emps&#125;&quot;&gt;&#x2F;&#x2F;查询员工发emps请求，是GET方式</span><br></pre></td></tr></table></figure></div>
<p>随后在Controller文件夹里面建立EmployeeController；</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">    EmployeeDao employeeDao;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;查询所有员工，返回列表页面</span><br><span class="line">    &#x2F;&#x2F;因为读取员工数据处理的请求是GET方式，所以进行GetMapping注解</span><br><span class="line">    @GetMapping(&quot;&#x2F;emps&quot;)</span><br><span class="line">    &#x2F;&#x2F;此处model，modelmap，map都可</span><br><span class="line">    public String list(Model model) &#123;</span><br><span class="line">        Collection&lt;Employee&gt; employees &#x3D; employeeDao.getAll();</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;放在请求域中进行共享</span><br><span class="line">        model.addAttribute(&quot;emps&quot;,employees);</span><br><span class="line">        &#x2F;&#x2F;只有放在emp文件夹下，thymeleaf才会默认拼串</span><br><span class="line">        &#x2F;&#x2F;classpath：&#x2F;templates&#x2F;xxx.html</span><br><span class="line">        return&quot;emp&#x2F;list&quot;;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>Thymeleaf公共页面元素抽取（layout）</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.抽取公共片段</span><br><span class="line">&lt;div th:fragment&#x3D;&quot;copy&quot;&gt;</span><br><span class="line">&amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">2.引入公共片段</span><br><span class="line">&lt;div th:insert&#x3D;&quot;~&#123;footer :: copy&#125;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">~&#123;templatename::selector&#125;：模板名::选择器</span><br><span class="line">~&#123;templatename::fragmentname&#125;:模板名::片段名</span><br><span class="line"></span><br><span class="line">3.默认效果</span><br><span class="line">insert的公共片段在div标签中</span><br><span class="line">如果使用th:insert等属性进行引入，可以不用写~&#123;&#125;：</span><br><span class="line">行内写法可以加上：[[~&#123;&#125;]];[(~&#123;&#125;)]；</span><br></pre></td></tr></table></figure></div>

<p>三种引入公共片段的th属性</p>
<ul>
<li><strong>th:insert</strong>：将公共片段整个插入到声明引入元素中</li>
<li><strong>th:replace</strong>：将声明引入的元素替换为公共片段</li>
<li><strong>th:include</strong>：将被引入的片段的内容包含进这个标签中</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;footer th:fragment&#x3D;&quot;copy&quot;&gt;</span><br><span class="line">&amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line">&lt;&#x2F;footer&gt;</span><br><span class="line">引入方式</span><br><span class="line">&lt;div th:insert&#x3D;&quot;footer :: copy&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div th:replace&#x3D;&quot;footer :: copy&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div th:include&#x3D;&quot;footer :: copy&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">效果</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;footer&gt;</span><br><span class="line">    &amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line">    &lt;&#x2F;footer&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;footer&gt;</span><br><span class="line">&amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line">&lt;&#x2F;footer&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure></div>

<p>引入片段的时候传入参数</p>
<ol start="3">
<li>链接跳转</li>
</ol>
<p>为了层次更清晰，我们将可重用的抽取的页面放在commons文件夹下，新建bar.html。</p>
<ul>
<li>分别在顶部栏和侧边栏中设置标识</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--顶部栏--&gt;</span><br><span class="line">&lt;nav class&#x3D;&quot;navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0&quot; th:fragment&#x3D;&quot;topbar&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--侧边栏--&gt;</span><br><span class="line">&lt;nav class&#x3D;&quot;col-md-2 d-none d-md-block bg-light sidebar&quot; id&#x3D;&quot;sidebar&quot;&gt;</span><br></pre></td></tr></table></figure></div>

<p>因为没有数据库链接，所以要把dao中的资源导入到员工管理界面里面。我们在controller中新增了关于读取员工的controller，具体操作就是发送emps请求，查出数据，放到emps里面。所以我们只需要提出emps里面的内容即可。</p>
<p>*<em>在进行下一步之前，先把顶部栏及侧边栏引入 *</em></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#顶部栏   &lt;div th:replace&#x3D;&quot;commons&#x2F;bar::topbar&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">#侧边栏   				&lt;div th:replace&#x3D;&quot;commons&#x2F;bar::#sidebar&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">因为是id所以加#</span><br></pre></td></tr></table></figure></div>

<p>在list界面进行如下操作</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;thead&gt;</span><br><span class="line">	&lt;tr&gt;</span><br><span class="line">		&lt;th&gt;#&lt;&#x2F;th&gt;</span><br><span class="line">		&lt;th&gt;lastName&lt;&#x2F;th&gt;</span><br><span class="line">		&lt;th&gt;email&lt;&#x2F;th&gt;</span><br><span class="line">		&lt;th&gt;gender&lt;&#x2F;th&gt;</span><br><span class="line">		&lt;th&gt;department&lt;&#x2F;th&gt;</span><br><span class="line">		&lt;th&gt;birth&lt;&#x2F;th&gt;</span><br><span class="line">		&lt;th&gt;操作&lt;&#x2F;th&gt;</span><br><span class="line">	&lt;&#x2F;tr&gt;</span><br><span class="line">	&lt;&#x2F;thead&gt;</span><br><span class="line">	&lt;tbody&gt;</span><br><span class="line">		&lt;tr th:each&#x3D;&quot;emp:$&#123;emps&#125;&quot;&gt;</span><br><span class="line">			&lt;td th:text&#x3D;&quot;$&#123;emp.itd&gt;</span><br><span class="line">			&lt;td&gt;[[$&#123;emp.lastName&#125;]]&lt;&#x2F;td&gt;</span><br><span class="line">			&lt;td th:text&#x3D;&quot;$&#123;emp.&quot;&gt;&lt;&#x2F;td&gt;</span><br><span class="line">			&lt;td th:text&#x3D;&quot;$&#123;emp.g&#x3D;&#x3D;0?&#39;女&#39;:&#39;男&#39;&quot;&gt;&lt;&#x2F;td&gt;</span><br><span class="line">			&lt;td th:t&#123;emp.depardepartmentName&#125;&quot;&gt;&lt;&#x2F;td&gt;</span><br><span class="line">			&lt;td th:text&#x3D;&quot;$&#123;#dates.(emp.birth,&#39;yyyy-HH:mm&#39;)&#125;&quot;&gt;&lt;&#x2F;td&gt;</span><br><span class="line">			&lt;td&gt;</span><br><span class="line">				&lt;button classbtn-sm btn-prima&lt;&#x2F;button&gt;</span><br><span class="line">				&lt;button classbtn-sm btn-dang&lt;&#x2F;button&gt;</span><br><span class="line">			&lt;&#x2F;td&gt;</span><br><span class="line">		&lt;&#x2F;tr&gt;</span><br><span class="line">&lt;&#x2F;tbody&gt;</span><br></pre></td></tr></table></figure></div>

<p><strong>高亮问题</strong><br>点哪个标签哪个标签高光，需要我们加一个判定，在我们需要进入的界面增加即可，只用增加侧边栏的判定，</p>
<p>所以对于dashboard，代码如下；</p>
<blockquote>
<pre><code>&lt;div th:replace=&quot;commons/bar::#sidebar(activeUri=&apos;main.html&apos;)&quot;&gt;&lt;/div&gt;</code></pre></blockquote>
<p>对于list，代码如下：</p>
<blockquote>
<pre><code>&lt;div th:replace=&quot;commons/bar::#sidebar(activeUri=&apos;emps&apos;)&quot;&gt;&lt;/div&gt;</code></pre></blockquote>
<p>在bar（栏界面）里的a标签处，增加判定方式，代码如下。</p>
<blockquote>
<p>  th:class=”${activeUri==’main.html’?’nav-link active’:’nav-link’}”</p>
</blockquote>
<p>员工添加，要进入员工添加页面</p>
<p>不能直接回到页面因为thymeleaf会默认拼串<br>所以要么跟SpringMvc一样 用redirect：重定向。或者利用forward：转化。</p>
<p>最容易引起的问题格式不对，error：400就是格式错误<br>默认是2019/2/2这种格式，要更改也可以，在properties里面指定自己格式</p>
<blockquote>
<p>spring.mvc.date-format = yyyy-MM-dd HH:mm</p>
</blockquote>
<p>修改员工</p>
<p>表单回显：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>删除一直没法成功，最后导入它给的文件的pom才成功</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">PHI6kai</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/02/04/Springboot%E7%AC%94%E8%AE%B0(1)/">http://yoursite.com/2020/02/04/Springboot%E7%AC%94%E8%AE%B0(1)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img" alt="支付寶"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/02/06/Springboot%E7%AC%94%E8%AE%B0(2)/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span>Springboot笔记(2)</span></div></a></div><div class="next-post pull_right"><a href="/2020/01/27/LeeCode%E5%88%B7%E9%A2%98(%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C)/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span>LeeCode刷题(1) 两数之和</span></div></a></div></nav></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By PHI6kai</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">简</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>